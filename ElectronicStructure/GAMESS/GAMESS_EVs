# Need to have SCR and JOB_BASENAME as environment variables
GMS_ROOT=$HOME/scratch/gamess
export AUXDATA=$GMS_ROOT/auxdata
export  EXTBAS=/dev/null
export  NUCBAS=/dev/null
export  POSBAS=/dev/null
export ERICFMT=$AUXDATA/ericfmt.dat
export MCPPATH=$AUXDATA/MCP
export BASPATH=$AUXDATA/BASES
export QUANPOL=$AUXDATA/QUANPOL

export  MAKEFP=$SCR/$JOB_BASENAME.efp
export   GAMMA=$SCR/$JOB_BASENAME.gamma
export TRAJECT=$SCR/$JOB_BASENAME.trj
export RESTART=$SCR/$JOB_BASENAME.rst
export   INPUT=$SCR/$JOB_BASENAME.F05
export   PUNCH=$SCR/$JOB_BASENAME.dat
export  AOINTS=$SCR/$JOB_BASENAME.F08
export  MOINTS=$SCR/$JOB_BASENAME.F09
export DICTNRY=$SCR/$JOB_BASENAME.F10
export DRTFILE=$SCR/$JOB_BASENAME.F11
export CIVECTR=$SCR/$JOB_BASENAME.F12
export CASINTS=$SCR/$JOB_BASENAME.F13
export  CIINTS=$SCR/$JOB_BASENAME.F14
export  WORK15=$SCR/$JOB_BASENAME.F15
export  WORK16=$SCR/$JOB_BASENAME.F16
export CSFSAVE=$SCR/$JOB_BASENAME.F17
export FOCKDER=$SCR/$JOB_BASENAME.F18
export  WORK19=$SCR/$JOB_BASENAME.F19
export  DASORT=$SCR/$JOB_BASENAME.F20
export DFTINTS=$SCR/$JOB_BASENAME.F21
export DFTGRID=$SCR/$JOB_BASENAME.F22
export  JKFILE=$SCR/$JOB_BASENAME.F23
export  ORDINT=$SCR/$JOB_BASENAME.F24
export  EFPIND=$SCR/$JOB_BASENAME.F25
export PCMDATA=$SCR/$JOB_BASENAME.F26
export PCMINTS=$SCR/$JOB_BASENAME.F27
export SVPWRK1=$SCR/$JOB_BASENAME.F26
export SVPWRK2=$SCR/$JOB_BASENAME.F27
export COSCAV=$SCR/$JOB_BASENAME.F26
export COSDATA=$SCR/$JOB_BASENAME.cosmo
export COSPOT=$SCR/$JOB_BASENAME.pot
export  MLTPL=$SCR/$JOB_BASENAME.F28
export  MLTPLT=$SCR/$JOB_BASENAME.F29
export  DAFL30=$SCR/$JOB_BASENAME.F30
export  SOINTX=$SCR/$JOB_BASENAME.F31
export  SOINTY=$SCR/$JOB_BASENAME.F32
export  SOINTZ=$SCR/$JOB_BASENAME.F33
export  SORESC=$SCR/$JOB_BASENAME.F34
#   35 is used by RESTART, see above
export GCILIST=$SCR/$JOB_BASENAME.F37
export HESSIAN=$SCR/$JOB_BASENAME.F38
export QMMMTEI=$SCR/$JOB_BASENAME.F39
export SOCCDAT=$SCR/$JOB_BASENAME.F40
export  AABB41=$SCR/$JOB_BASENAME.F41
export  BBAA42=$SCR/$JOB_BASENAME.F42
export  BBBB43=$SCR/$JOB_BASENAME.F43
export  MCQD50=$SCR/$JOB_BASENAME.F50
export  MCQD51=$SCR/$JOB_BASENAME.F51
export  MCQD52=$SCR/$JOB_BASENAME.F52
export  MCQD53=$SCR/$JOB_BASENAME.F53
export  MCQD54=$SCR/$JOB_BASENAME.F54
export  MCQD55=$SCR/$JOB_BASENAME.F55
export  MCQD56=$SCR/$JOB_BASENAME.F56
export  MCQD57=$SCR/$JOB_BASENAME.F57
export  MCQD58=$SCR/$JOB_BASENAME.F58
export  MCQD59=$SCR/$JOB_BASENAME.F59
export  MCQD60=$SCR/$JOB_BASENAME.F60
export  MCQD61=$SCR/$JOB_BASENAME.F61
export  MCQD62=$SCR/$JOB_BASENAME.F62
export  MCQD63=$SCR/$JOB_BASENAME.F63
export  MCQD64=$SCR/$JOB_BASENAME.F64
export NMRINT1=$SCR/$JOB_BASENAME.F61
export NMRINT2=$SCR/$JOB_BASENAME.F62
export NMRINT3=$SCR/$JOB_BASENAME.F63
export NMRINT4=$SCR/$JOB_BASENAME.F64
export NMRINT5=$SCR/$JOB_BASENAME.F65
export NMRINT6=$SCR/$JOB_BASENAME.F66
export DCPHFH2=$SCR/$JOB_BASENAME.F67
export DCPHF21=$SCR/$JOB_BASENAME.F68
export ELNUINT=$SCR/$JOB_BASENAME.F67
export NUNUINT=$SCR/$JOB_BASENAME.F68
export   GVVPT=$SCR/$JOB_BASENAME.F69
export NUMOIN=$SCR/$JOB_BASENAME.F69
export NUMOCAS=$SCR/$JOB_BASENAME.F70
export NUELMO=$SCR/$JOB_BASENAME.F71
export NUELCAS=$SCR/$JOB_BASENAME.F72
# Next files are for RI-MP2
export RIVMAT=$SCR/$JOB_BASENAME.F51
export RIT2A=$SCR/$JOB_BASENAME.F52
export RIT3A=$SCR/$JOB_BASENAME.F53
export RIT2B=$SCR/$JOB_BASENAME.F54
export RIT3B=$SCR/$JOB_BASENAME.F55
# Next files are for GMCQDPT
export GMCREF=$SCR/$JOB_BASENAME.F70
export GMCO2R=$SCR/$JOB_BASENAME.F71
export GMCROC=$SCR/$JOB_BASENAME.F72
export GMCOOC=$SCR/$JOB_BASENAME.F73
export GMCCC0=$SCR/$JOB_BASENAME.F74
export GMCHMA=$SCR/$JOB_BASENAME.F75
export GMCEI1=$SCR/$JOB_BASENAME.F76
export GMCEI2=$SCR/$JOB_BASENAME.F77
export GMCEOB=$SCR/$JOB_BASENAME.F78
export GMCEDT=$SCR/$JOB_BASENAME.F79
export GMCERF=$SCR/$JOB_BASENAME.F80
export GMCHCR=$SCR/$JOB_BASENAME.F81
export GMCGJK=$SCR/$JOB_BASENAME.F82
export GMCGAI=$SCR/$JOB_BASENAME.F83
export GMCGEO=$SCR/$JOB_BASENAME.F84
export GMCTE1=$SCR/$JOB_BASENAME.F85
export GMCTE2=$SCR/$JOB_BASENAME.F86
export GMCHEF=$SCR/$JOB_BASENAME.F87
export GMCMOL=$SCR/$JOB_BASENAME.F88
export GMCMOS=$SCR/$JOB_BASENAME.F89
export GMCWGT=$SCR/$JOB_BASENAME.F90
export GMCRM2=$SCR/$JOB_BASENAME.F91
export GMCRM1=$SCR/$JOB_BASENAME.F92
export GMCR00=$SCR/$JOB_BASENAME.F93
export GMCRP1=$SCR/$JOB_BASENAME.F94
export GMCRP2=$SCR/$JOB_BASENAME.F95
export GMCVEF=$SCR/$JOB_BASENAME.F96
export GMCDIN=$SCR/$JOB_BASENAME.F97
export GMC2SZ=$SCR/$JOB_BASENAME.F98
export GMCCCS=$SCR/$JOB_BASENAME.F99
# Next files are used only during closed shell coupled cluster runs.
cctyp=`grep -i 'CCTYP[(=]' $SCR/$JOB_BASENAME.F05 | wc -l`
if [ $cctyp -gt 0 ]
then
   export  CCREST=$SCR/$JOB_BASENAME.F70
   export  CCDIIS=$SCR/$JOB_BASENAME.F71
   export  CCINTS=$SCR/$JOB_BASENAME.F72
   export CCT1AMP=$SCR/$JOB_BASENAME.F73
   export CCT2AMP=$SCR/$JOB_BASENAME.F74
   export CCT3AMP=$SCR/$JOB_BASENAME.F75
   export    CCVM=$SCR/$JOB_BASENAME.F76
   export    CCVE=$SCR/$JOB_BASENAME.F77
   export CCQUADS=$SCR/$JOB_BASENAME.F78
   export QUADSVO=$SCR/$JOB_BASENAME.F79
   export EOMSTAR=$SCR/$JOB_BASENAME.F80
   export EOMVEC1=$SCR/$JOB_BASENAME.F81
   export EOMVEC2=$SCR/$JOB_BASENAME.F82
   export  EOMHC1=$SCR/$JOB_BASENAME.F83
   export  EOMHC2=$SCR/$JOB_BASENAME.F84
   export EOMHHHH=$SCR/$JOB_BASENAME.F85
   export EOMPPPP=$SCR/$JOB_BASENAME.F86
   export EOMRAMP=$SCR/$JOB_BASENAME.F87
   export EOMRTMP=$SCR/$JOB_BASENAME.F88
   export EOMDG12=$SCR/$JOB_BASENAME.F89
   export    MMPP=$SCR/$JOB_BASENAME.F90
   export   MMHPP=$SCR/$JOB_BASENAME.F91
   export MMCIVEC=$SCR/$JOB_BASENAME.F92
   export MMCIVC1=$SCR/$JOB_BASENAME.F93
   export MMCIITR=$SCR/$JOB_BASENAME.F94
   export  EOMVL1=$SCR/$JOB_BASENAME.F95
   export  EOMVL2=$SCR/$JOB_BASENAME.F96
   export EOMLVEC=$SCR/$JOB_BASENAME.F97
   export  EOMHL1=$SCR/$JOB_BASENAME.F98
   export  EOMHL2=$SCR/$JOB_BASENAME.F99
   export  CCVVVV=$SCR/$JOB_BASENAME.F80
# Next files are used only during open shell coupled cluster runs.
   export AMPROCC=$SCR/$JOB_BASENAME.F70
   export ITOPNCC=$SCR/$JOB_BASENAME.F71
   export FOCKMTX=$SCR/$JOB_BASENAME.F72
   export  LAMB23=$SCR/$JOB_BASENAME.F73
   export   VHHAA=$SCR/$JOB_BASENAME.F74
   export   VHHBB=$SCR/$JOB_BASENAME.F75
   export   VHHAB=$SCR/$JOB_BASENAME.F76
   export    VMAA=$SCR/$JOB_BASENAME.F77
   export    VMBB=$SCR/$JOB_BASENAME.F78
   export    VMAB=$SCR/$JOB_BASENAME.F79
   export    VMBA=$SCR/$JOB_BASENAME.F80
   export  VHPRAA=$SCR/$JOB_BASENAME.F81
   export  VHPRBB=$SCR/$JOB_BASENAME.F82
   export  VHPRAB=$SCR/$JOB_BASENAME.F83
   export  VHPLAA=$SCR/$JOB_BASENAME.F84
   export  VHPLBB=$SCR/$JOB_BASENAME.F85
   export  VHPLAB=$SCR/$JOB_BASENAME.F86
   export  VHPLBA=$SCR/$JOB_BASENAME.F87
   export    VEAA=$SCR/$JOB_BASENAME.F88
   export    VEBB=$SCR/$JOB_BASENAME.F89
   export    VEAB=$SCR/$JOB_BASENAME.F90
   export    VEBA=$SCR/$JOB_BASENAME.F91
   export   VPPPP=$SCR/$JOB_BASENAME.F92
   export INTERM1=$SCR/$JOB_BASENAME.F93
   export INTERM2=$SCR/$JOB_BASENAME.F94
   export INTERM3=$SCR/$JOB_BASENAME.F95
   export ITSPACE=$SCR/$JOB_BASENAME.F96
   export INSTART=$SCR/$JOB_BASENAME.F97
   export  ITSPC3=$SCR/$JOB_BASENAME.F98
fi
# Next files are used only during elongation method runs.
elgtyp=`grep -i NELONG= $SCR/$JOB_BASENAME.F05 | wc -l`
if [ $elgtyp -gt 0 ]
then
    ELGNAME=$4
    if [ null$4 == null ]
    then
       ELGNAME='ELGFILE'
    fi
    export AOINTS=$SCR/$ELGNAME.F08
    export ELGDOS=$SCR/$JOB_BASENAME.ldos
    export ELGDAT=$SCR/$ELGNAME.F71
    export ELGPAR=$SCR/$ELGNAME.F72
    export ELGCUT=$SCR/$ELGNAME.F74
    export ELGVEC=$SCR/$ELGNAME.F75
    export EGINTA=$SCR/$ELGNAME.F77
    export EGINTB=$SCR/$ELGNAME.F78
    export EGTDHF=$SCR/$ELGNAME.F79
    export EGTEST=$SCR/$ELGNAME.F80
fi
#    Next files are used only during extended TDHF package runs.
txtyp=`grep -i RUNTYP=TDHFX $SCR/$JOB_BASENAME.F05 | wc -l`
if [ $txtyp -gt 0 ]
then
   export  OLI201=$SCR/$JOB_BASENAME.F201
   export  OLI202=$SCR/$JOB_BASENAME.F202
   export  OLI203=$SCR/$JOB_BASENAME.F203
   export  OLI204=$SCR/$JOB_BASENAME.F204
   export  OLI205=$SCR/$JOB_BASENAME.F205
   export  OLI206=$SCR/$JOB_BASENAME.F206
   export  OLI207=$SCR/$JOB_BASENAME.F207
   export  OLI208=$SCR/$JOB_BASENAME.F208
   export  OLI209=$SCR/$JOB_BASENAME.F209
   export  OLI210=$SCR/$JOB_BASENAME.F210
   export  OLI211=$SCR/$JOB_BASENAME.F211
   export  OLI212=$SCR/$JOB_BASENAME.F212
   export  OLI213=$SCR/$JOB_BASENAME.F213
   export  OLI214=$SCR/$JOB_BASENAME.F214
   export  OLI215=$SCR/$JOB_BASENAME.F215
   export  OLI216=$SCR/$JOB_BASENAME.F216
   export  OLI217=$SCR/$JOB_BASENAME.F217
   export  OLI218=$SCR/$JOB_BASENAME.F218
   export  OLI219=$SCR/$JOB_BASENAME.F219
   export  OLI220=$SCR/$JOB_BASENAME.F220
   export  OLI221=$SCR/$JOB_BASENAME.F221
   export  OLI222=$SCR/$JOB_BASENAME.F222
   export  OLI223=$SCR/$JOB_BASENAME.F223
   export  OLI224=$SCR/$JOB_BASENAME.F224
   export  OLI225=$SCR/$JOB_BASENAME.F225
   export  OLI226=$SCR/$JOB_BASENAME.F226
   export  OLI227=$SCR/$JOB_BASENAME.F227
   export  OLI228=$SCR/$JOB_BASENAME.F228
   export  OLI229=$SCR/$JOB_BASENAME.F229
   export  OLI230=$SCR/$JOB_BASENAME.F230
   export  OLI231=$SCR/$JOB_BASENAME.F231
   export  OLI232=$SCR/$JOB_BASENAME.F232
   export  OLI233=$SCR/$JOB_BASENAME.F233
   export  OLI234=$SCR/$JOB_BASENAME.F234
   export  OLI235=$SCR/$JOB_BASENAME.F235
   export  OLI236=$SCR/$JOB_BASENAME.F236
   export  OLI237=$SCR/$JOB_BASENAME.F237
   export  OLI238=$SCR/$JOB_BASENAME.F238
   export  OLI239=$SCR/$JOB_BASENAME.F239
fi
#    Next files are used only during divide-and-conquer runs
export DCSUB=$SCR/$JOB_BASENAME.F250
export DCVEC=$SCR/$JOB_BASENAME.F251
export DCEIG=$SCR/$JOB_BASENAME.F252
export DCDM=$SCR/$JOB_BASENAME.F253
export DCDMO=$SCR/$JOB_BASENAME.F254
export DCQ=$SCR/$JOB_BASENAME.F255
export DCW=$SCR/$JOB_BASENAME.F256
export DCEDM=$SCR/$JOB_BASENAME.F257
#    Next files are used only during LMO hyperpolarizability analysis
export LHYPWRK=$SCR/$JOB_BASENAME.F297
export LHYPWK2=$SCR/$JOB_BASENAME.F298
export BONDDPF=$SCR/$JOB_BASENAME.F299
#    Next value is used only within the VB2000 add-on code
export GMSJOBNAME=$JOB

#    If a $GDDI input group is present, the calculation will be using
#    subgroups within DDI (the input NGROUP=0 means this isn't GDDI).
#
#    The master within each group must have a copy of INPUT, which is
#    dealt with below (prior to execution), once we know something about
#    the host names where INPUT is required.  The INPUT does not have
#    the global rank appended to its name, unlike all other files.
#
#    OUTPUT and PUNCH (and perhaps many other files) are opened on all
#    processes (not just the master in each subgroup), but unique names
#    will be generated by appending the global ranks.  Note that OUTPUT
#    is not opened by the master in the first group, but is used by all
#    other groups.  Typically, the OUTPUT from the first group's master
#    is the only one worth saving, unless perhaps if runs crash out.
#
#    The other files that GDDI runs might use are already defined above.
#
ngddi=`grep -i '^ \$GDDI' $SCR/$JOB_BASENAME.F05 | grep -iv 'NGROUP=0 ' | wc -l`
if [ $ngddi -gt 0 ]
then
   GDDIjob=true
   export OUTPUT=$SCR/$JOB_BASENAME.F06
   export PUNCH=$SCR/$JOB_BASENAME.F07
else
   GDDIjob=false
fi
